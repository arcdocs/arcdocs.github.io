
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fluent &#8212; ARC Documentation</title>
    
  <link href="../../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/togglebutton.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://arcdocs.leeds.ac.uk/software/applications/ansys/fluent.html" />
    <link rel="shortcut icon" href="../../../_static/favicon-32x32.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Chemkin" href="chemkin.html" />
    <link rel="prev" title="Cfx" href="cfx.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">ARC Documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../welcome.html">
   Welcome
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../getting_started/start.html">
   Getting Started
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../getting_started/request_hpc_acct.html">
     Requesting an HPC Account
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../getting_started/request_install.html">
     Requesting a software install on HPC
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../getting_started/logon.html">
     Logging on
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../getting_started/linuxbasics.html">
     Linux basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../getting_started/nobackup.html">
     Storage on HPC
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../getting_started/file_transfer.html">
     File Transfer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../getting_started/x2go.html">
     Remote Graphics â€“ X2GO
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../usage/start.html">
   Usage
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../usage/batchjob.html">
     Batch jobs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../usage/interactive.html">
     Interactive jobs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../usage/troubleshooting.html">
     Troubleshooting jobs on HPC
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../usage/taskarrays.html">
     Task arrays
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../usage/gpgpu.html">
     General Purpose GPU
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../usage/scratch.html">
     Temporary/Scratch Storage on Compute nodes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../usage/advanced.html">
     Advanced Job Examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../usage/acknowledgement.html">
     ARC Acknowledgement
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../../start.html">
   Software
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="../start.html">
     Applications
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3">
      <a class="reference internal" href="../abaqus.html">
       Abaqus
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../amber.html">
       Amber
      </a>
     </li>
     <li class="toctree-l3 current active has-children">
      <a class="reference internal" href="../ansys.html">
       Ansys
      </a>
      <input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
      <label for="toctree-checkbox-5">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="current">
       <li class="toctree-l4">
        <a class="reference internal" href="cfx.html">
         Cfx
        </a>
       </li>
       <li class="toctree-l4 current active">
        <a class="current reference internal" href="#">
         Fluent
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="chemkin.html">
         Chemkin
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../comsol.html">
       Comsol
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../dl_poly.html">
       DL_POLY
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
      <label for="toctree-checkbox-6">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../dlpoly/license.html">
         DLpoly license terms
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../gaussian.html">
       Gaussian
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../gromacs.html">
       Gromacs
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../gurobi.html">
       Gurobi
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../idl.html">
       IDL
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../matlab.html">
       MATLAB
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../molpro.html">
       Molpro
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../namd.html">
       NAMD
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../openfoam.html">
       OpenFoam
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../paraview.html">
       Paraview
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../R.html">
       R
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../stata.html">
       Stata
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../visit.html">
       VisIt
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../vmd.html">
       VMD (Visual Molecular Dynamics)
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../compilers/start.html">
     Compilers
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../compilers/anaconda.html">
       Anaconda
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../compilers/cuda.html">
       Cuda
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../compilers/gnu.html">
       GNU
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../compilers/go.html">
       Go
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../compilers/intel.html">
       Intel
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../compilers/java.html">
       Java
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../compilers/julia.html">
       Julia
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../compilers/llvm.html">
       LLVM
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../compilers/lua.html">
       Lua
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../compilers/pgi.html">
       PGI
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../compilers/python.html">
       Python
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../compilers/yasm.html">
       YASM
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../infrastructure/start.html">
     Infrastructure
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/advisor.html">
       Advisor
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/allinea.html">
       Allinea
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/arm-forge.html">
       Arm Forge
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/bazel.html">
       Bazel
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/cmake.html">
       Cmake
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/gdb.html">
       GDB
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/git.html">
       Git
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/inspector.html">
       Inspector
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/licenses.html">
       Licenses
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/parallel.html">
       GNU Parallel
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/sge.html">
       SGE
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/singularity.html">
       Singularity
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/subversion.html">
       Subversion
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/system.html">
       System
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/test.html">
       Test
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/unison.html">
       Unison
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/user.html">
       User
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/virtualgl.html">
       Virtual GL
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../infrastructure/vtune.html">
       Vtune
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../libraries/start.html">
     Libraries
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../systems/start.html">
   Systems
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../systems/arc4.html">
     ARC4
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../systems/arc3.html">
     ARC3
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../systems/cloud-computing.html">
     Cloud Computing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../systems/secure-systems.html">
     Secure Research Infrastructure
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://arc.leeds.ac.uk/training/">
   Training
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../contact/start.html">
   Contact Us
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  <h3 style="color: #B33A3A;font-weight: bold;"> 1st October 2021: ARC3 and ARC4 are currently unavailable due to a major incident </h3> Visit the <a href="https://arc.leeds.ac.uk">Research Computing Home Site</a> <div> This book is powered by <a href="https://jupyterbook.org">Jupyter Book</a> </div>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../_sources/software/applications/ansys/fluent.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/arcdocs/arcdocs-jupyterbook"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/arcdocs/arcdocs-jupyterbook/issues/new?title=Issue%20on%20page%20%2Fsoftware/applications/ansys/fluent.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/arcdocs/arcdocs-jupyterbook/edit/working-master/book/software/applications/ansys/fluent.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-fluent-in-serial-mode">
   Running Fluent in Serial mode
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-on-login-nodes">
     Using on Login nodes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#running-interactively-through-the-batch-queues">
     Running interactively through the batch queues
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#running-through-the-batch-queues">
     Running through the batch queues
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-in-parallel">
   Running in parallel
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#running-a-large-mesh-interactively">
     Running a large mesh interactively
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parallel-execution-through-the-batch-queues">
     Parallel execution through the batch queues
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gpu-execution-using-the-batch-queues">
     GPU execution using the batch queues
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-with-old-version-of-fluent-v15-or-below">
   Running with old version of Fluent v15 or below
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#additional-notes">
   Additional notes
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="fluent">
<h1>Fluent<a class="headerlink" href="#fluent" title="Permalink to this headline">Â¶</a></h1>
<p>Once the license and module have been set up correctly, Fluent can be run both in serial and in parallel.</p>
<div class="section" id="running-fluent-in-serial-mode">
<h2>Running Fluent in Serial mode<a class="headerlink" href="#running-fluent-in-serial-mode" title="Permalink to this headline">Â¶</a></h2>
<p>There are three ways in which to launch fluent in serial:</p>
<ul class="simple">
<li><p>On login nodes</p></li>
<li><p>As an <a class="reference internal" href="../../../usage/interactive.html"><span class="doc std std-doc">interactive session</span></a></p></li>
<li><p>As a <a class="reference internal" href="../../../usage/batchjob.html"><span class="doc std std-doc">batch job</span></a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When launching the Fluent GUI you must have an X-server running locally and have enabled <a class="reference external" href="../../../getting_started/logon.html#graphics-forwarding-x11">X11 forwarding</a> through your SSH client.</p>
</div>
<div class="section" id="using-on-login-nodes">
<h3>Using on Login nodes<a class="headerlink" href="#using-on-login-nodes" title="Permalink to this headline">Â¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Please note you should not run full experiments on the login nodes. Only use this method for quick tests!</p>
</div>
<p>Once the Ansys module is loaded, fluent can be run by entering its name at the command prompt:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ module add ansys
$ fluent
</pre></div>
</div>
</div>
<div class="section" id="running-interactively-through-the-batch-queues">
<h3>Running interactively through the batch queues<a class="headerlink" href="#running-interactively-through-the-batch-queues" title="Permalink to this headline">Â¶</a></h3>
<p>To launch fluent in serial in an <a class="reference internal" href="../../../usage/interactive.html"><span class="doc std std-doc">interactive session</span></a>, use the following commands in the terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ qrsh -cwd -V -l <span class="nv">h_rt</span><span class="o">=</span>&lt;hh:mm:ss&gt; -l <span class="nv">h_vmem</span><span class="o">=</span>&lt;vmem&gt; fluent &lt;dim&gt;
</pre></div>
</div>
<p>In the above command, <code class="docutils literal notranslate"><span class="pre">hh:mm:ss</span></code> is the length of real-time the shell will exist for, <code class="docutils literal notranslate"><span class="pre">vmem</span></code> is the amount of memory required, <code class="docutils literal notranslate"><span class="pre">dim</span></code> is the dimension/precision of the fluent process (e.g. <code class="docutils literal notranslate"><span class="pre">2d</span></code> for two dimension, single precision).</p>
<p>For example, to launch the fluent GUI in an <a class="reference internal" href="../../../usage/interactive.html"><span class="doc std std-doc">interactive session</span></a> for 3D double precision, issue:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ qrsh -cwd -V -l <span class="nv">h_rt</span><span class="o">=</span><span class="m">6</span>:00:00 -l <span class="nv">h_vmem</span><span class="o">=</span>2G fluent 3ddp
</pre></div>
</div>
</div>
<div class="section" id="running-through-the-batch-queues">
<h3>Running through the batch queues<a class="headerlink" href="#running-through-the-batch-queues" title="Permalink to this headline">Â¶</a></h3>
<p>When running through the <a class="reference internal" href="../../../usage/batchjob.html"><span class="doc std std-doc">batch queues</span></a>, no interactive input is possible. It is possible to create a journal file which contains all of the commands that would normally be entered within fluent, e.g. file test.jou :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">file</span><span class="o">/</span><span class="n">read</span><span class="o">-</span><span class="n">case</span> <span class="n">test</span><span class="o">.</span><span class="n">cas</span>
<span class="n">file</span><span class="o">/</span><span class="n">read</span><span class="o">-</span><span class="n">data</span> <span class="n">test</span><span class="o">.</span><span class="n">dat</span>
<span class="n">solve</span> <span class="nb">iter</span> <span class="mi">4</span>
<span class="o">/</span><span class="n">file</span><span class="o">/</span><span class="n">write</span><span class="o">-</span><span class="n">data</span> <span class="n">test2</span><span class="o">.</span><span class="n">dat</span>
<span class="n">y</span>
<span class="o">/</span><span class="n">exit</span>
<span class="n">y</span>
</pre></div>
</div>
<p>It is then necessary to construct a job submission script that will run fluent. The job submission script begins with a request for resources and the executable to be run, e.g. :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1"># Export all variables and use current working directory</span>
<span class="c1">#$ -V -cwd</span>
<span class="c1"># Request three hours of runtime</span>
<span class="c1">#$ -l h_rt=3:00:00</span>
<span class="c1">#Launch the executable</span>
fluent 3ddp -g -i test.jou
</pre></div>
</div>
<p>In this case, the 3-dimensional, double precision module is launched, however this can be interchanged with any other modules. The <code class="docutils literal notranslate"><span class="pre">-g</span></code> option will suppress the GUI and <code class="docutils literal notranslate"><span class="pre">-i</span></code> specifies the name of the input journal file. The file can be submitted to the queue by typing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ qsub fluent.sh
</pre></div>
</div>
<p>The above job submission script assumes that the Ansys module is loaded and license is defined. If desired, the module command can be loaded into the job submission script (removing the <code class="docutils literal notranslate"><span class="pre">-V</span></code>):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1"># Use current working directory</span>
<span class="c1">#$ -cwd</span>
<span class="c1"># Request three hours of runtime</span>
<span class="c1">#$ -l h_rt=3:00:00</span>
<span class="c1">#Launch the executable</span>
module add ansys/2020R2
<span class="nb">export</span> <span class="nv">ANSYSLMD_LICENSE_FILE</span><span class="o">=</span>&lt;LICENSESTRING&gt;
fluent 3ddp -g -i test.jou
</pre></div>
</div>
</div>
</div>
<div class="section" id="running-in-parallel">
<h2>Running in parallel<a class="headerlink" href="#running-in-parallel" title="Permalink to this headline">Â¶</a></h2>
<p>There are three ways of launching Fluent to work in parallel:</p>
<ul class="simple">
<li><p>On login nodes</p></li>
<li><p>As an <a class="reference internal" href="../../../usage/interactive.html"><span class="doc std std-doc">interactive session</span></a></p></li>
<li><p>As a <a class="reference internal" href="../../../usage/batchjob.html"><span class="doc std std-doc">batch job</span></a></p></li>
</ul>
<p>To launch an <a class="reference internal" href="../../../usage/interactive.html"><span class="doc std std-doc">interactive session</span></a> on many compute nodes, load the ansys module and type the following at the command prompt:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ qrsh -cwd -V -l <span class="nv">h_rt</span><span class="o">=</span>&lt;hh:mm:ss&gt; -l <span class="nv">h_vmem</span><span class="o">=</span>&lt;vmem&gt; -pe ib &lt;np&gt; fluent &lt;dim&gt; -rsh
</pre></div>
</div>
<p>In the above commands <code class="docutils literal notranslate"><span class="pre">hh:mm:ss</span></code> is the length of real-time the shell will exist for and <code class="docutils literal notranslate"><span class="pre">np</span></code> is the number of processes requested. <code class="docutils literal notranslate"><span class="pre">dim</span></code> is the dimension/precision of the fluent process (e.g. 3ddp for 3-D double precision). E.g. the to launch fluent for 6 hours on 16 processors:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ qrsh -cwd -V -l <span class="nv">h_rt</span><span class="o">=</span><span class="m">6</span>:00:00 -pe ib <span class="m">16</span> fluent 2d -rsh
</pre></div>
</div>
<div class="section" id="running-a-large-mesh-interactively">
<h3>Running a large mesh interactively<a class="headerlink" href="#running-a-large-mesh-interactively" title="Permalink to this headline">Â¶</a></h3>
<p>Occasionally, you will need to have interactive access to a large model that requires large amounts of memory and/or cores.
Whilst it might be possible to use a login node to do this for a short period of time, this is not a preferred option as the login nodes are a shared resource.</p>
<p>However, you can request an interactive session on the backend compute nodes to do this.</p>
</div>
<div class="section" id="parallel-execution-through-the-batch-queues">
<h3>Parallel execution through the batch queues<a class="headerlink" href="#parallel-execution-through-the-batch-queues" title="Permalink to this headline">Â¶</a></h3>
<p>Parallel execution via the batch queues is performed by combination of the techniques mentioned above. Firstly a journal file (<code class="docutils literal notranslate"><span class="pre">test_para.jou</span></code>) should be created to control the parallel run, without the aid of the GUI file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">file</span><span class="o">/</span><span class="n">read</span><span class="o">-</span><span class="n">case</span> <span class="n">test_para</span><span class="o">.</span><span class="n">cas</span>
<span class="n">file</span><span class="o">/</span><span class="n">read</span><span class="o">-</span><span class="n">data</span> <span class="n">test_para</span><span class="o">.</span><span class="n">dat</span>
<span class="n">solve</span> <span class="nb">iter</span> <span class="mi">4</span>
<span class="o">/</span><span class="n">file</span><span class="o">/</span><span class="n">write</span><span class="o">-</span><span class="n">data</span> <span class="n">test2_para</span><span class="o">.</span><span class="n">dat</span>
<span class="n">y</span>
<span class="o">/</span><span class="n">exit</span>
<span class="n">y</span>
</pre></div>
</div>
<p>Then a job submission script (<code class="docutils literal notranslate"><span class="pre">fluent_para.sh</span></code>) should be created, that requests resources and executes the code:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1"># use current working directory</span>
<span class="c1">#$ -cwd</span>
<span class="c1"># Request three hours of runtime</span>
<span class="c1">#$ -l h_rt=3:00:00</span>
<span class="c1"># Run on 32 processors</span>
<span class="c1">#$ -pe ib 32</span>
<span class="c1"># define license and load module</span>
module add ansys/2020R2
<span class="nb">export</span> <span class="nv">ANSYSLMD_LICENSE_FILE</span><span class="o">=</span>&lt;LICENSESTRING&gt;
<span class="c1">#Launch the executable</span>
fluent -g -i test_para.jou 3ddp -rsh
</pre></div>
</div>
<p>In this case, the 3-dimensional, double precision module is launched on 32 processors. The <code class="docutils literal notranslate"><span class="pre">-g</span></code> option will suppress the GUI and <code class="docutils literal notranslate"><span class="pre">-i</span></code> specifies the name of the input journal file. The file can be submitted to the queue by typing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ qsub fluent_para.sh
</pre></div>
</div>
<p>The job will be run once the requested resources become available.</p>
</div>
<div class="section" id="gpu-execution-using-the-batch-queues">
<h3>GPU execution using the batch queues<a class="headerlink" href="#gpu-execution-using-the-batch-queues" title="Permalink to this headline">Â¶</a></h3>
<p>Fluent supports the use of GPUs, although weâ€™ve not currently seen significant benefit from doing so on ARC.  To submit a GPU job:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1"># use current working directory</span>
<span class="c1">#$ -cwd</span>
<span class="c1"># Request three hours of runtime</span>
<span class="c1">#$ -l h_rt=3:00:00</span>
<span class="c1"># Run on 4 GPUs on ARC4 (using coproc_p100=4 on ARC3)</span>
<span class="c1">#$ -l coproc_v100=4</span>
<span class="c1"># define license and load module</span>
module add ansys/2020R2
<span class="nb">export</span> <span class="nv">ANSYSLMD_LICENSE_FILE</span><span class="o">=</span>&lt;LICENSESTRING&gt;
<span class="c1">#Launch the executable</span>
fluent -g -i -gpgpu<span class="o">=</span><span class="m">4</span> test_para.jou 3ddp -rsh
</pre></div>
</div>
</div>
</div>
<div class="section" id="running-with-old-version-of-fluent-v15-or-below">
<h2>Running with old version of Fluent v15 or below<a class="headerlink" href="#running-with-old-version-of-fluent-v15-or-below" title="Permalink to this headline">Â¶</a></h2>
<p>When running Fluent v15 or below in parallel batch mode, additional parameters need to be added to the Fluent command line in the batch submission script.</p>
<p>Taking the script in the previous section as an example, the line:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>fluent -g -i test_para.jou 3ddp -rsh
</pre></div>
</div>
<p>Should be switched to:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>fluent -g -i test_para.jou 3ddp -pib -sgeup
</pre></div>
</div>
</div>
<div class="section" id="additional-notes">
<h2>Additional notes<a class="headerlink" href="#additional-notes" title="Permalink to this headline">Â¶</a></h2>
<p>There are also known inefficiencies when running fluent on part nodes on ARC.  For optimal performance, run fluent on whole nodes.  For example, to run on a single node:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1"># use current working directory</span>
<span class="c1">#$ -cwd</span>
<span class="c1"># Request three hours of runtime</span>
<span class="c1">#$ -l h_rt=3:00:00</span>
<span class="c1"># Run on 1 nodes (24 cores on ARC3, 40 cores on ARC4)</span>
<span class="c1">#$ -l nodes=1</span>
<span class="c1"># define license and load module</span>
module add ansys/2020R2
<span class="nb">export</span> <span class="nv">ANSYSLMD_LICENSE_FILE</span><span class="o">=</span>&lt;LICENSESTRING&gt;
<span class="c1">#Launch the executable</span>
fluent -g -i test_para.jou 3ddp -rsh
</pre></div>
</div>
<p>You will wait slightly longer for a whole node than for the previous allocation method, but your code may run significantly faster.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./software/applications/ansys"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="cfx.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Cfx</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="chemkin.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Chemkin</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By University of Leeds Research Computing Team<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>